{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useContext } from 'react';\nimport { Context as TrackContext } from \"../context/TrackContext\";\nimport { Context as LocationContext } from \"../context/LocationContext\";\nimport { navigate } from \"../navigationRef\";\nexport default (function () {\n  var _useContext = useContext(TrackContext),\n      createTrack = _useContext.createTrack;\n\n  var _useContext2 = useContext(LocationContext),\n      _useContext2$state = _useContext2.state,\n      locations = _useContext2$state.locations,\n      name = _useContext2$state.name,\n      reset = _useContext2.reset;\n\n  var saveTrack = function saveTrack() {\n    return _regeneratorRuntime.async(function saveTrack$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(createTrack(name, locations));\n\n          case 2:\n            reset();\n            navigate('TrackList');\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return [saveTrack];\n});","map":{"version":3,"sources":["/home/mrbug/projects/mobile/tracks/src/hooks/useSaveTrack.js"],"names":["useContext","Context","TrackContext","LocationContext","navigate","createTrack","state","locations","name","reset","saveTrack"],"mappings":";AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,OAAO,IAAIC,YAApB;AACA,SAASD,OAAO,IAAIE,eAApB;AACA,SAASC,QAAT;AAEA,gBAAe,YAAM;AAAA,oBACKJ,UAAU,CAACE,YAAD,CADf;AAAA,MACXG,WADW,eACXA,WADW;;AAAA,qBAKfL,UAAU,CAACG,eAAD,CALK;AAAA,wCAGjBG,KAHiB;AAAA,MAGRC,SAHQ,sBAGRA,SAHQ;AAAA,MAGGC,IAHH,sBAGGA,IAHH;AAAA,MAIjBC,KAJiB,gBAIjBA,KAJiB;;AAOnB,MAAMC,SAAS,GAAG,SAAZA,SAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACVL,WAAW,CAACG,IAAD,EAAOD,SAAP,CADD;;AAAA;AAEhBE,YAAAA,KAAK;AACLL,YAAAA,QAAQ,CAAC,WAAD,CAAR;;AAHgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAMA,SAAO,CAACM,SAAD,CAAP;AACD,CAdD","sourcesContent":["import { useContext } from 'react';\nimport { Context as TrackContext } from '../context/TrackContext';\nimport { Context as LocationContext } from '../context/LocationContext';\nimport { navigate } from '../navigationRef';\n\nexport default () => {\n  const { createTrack } = useContext(TrackContext);\n  const {\n    state: { locations, name },\n    reset\n  } = useContext(LocationContext);\n\n  const saveTrack = async () => {\n    await createTrack(name, locations);\n    reset();\n    navigate('TrackList');\n  };\n\n  return [saveTrack];\n};\n"]},"metadata":{},"sourceType":"module"}